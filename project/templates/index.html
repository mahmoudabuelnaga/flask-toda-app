{% extends 'base.html' %}

{% block head %}
  <title>Tast Master</title>
{% endblock head %}

{% block body %}
<div class="container">
    <div class="row">
          <h1>Task Master</h1>
          
          {% if tasks|length < 1 %}
            <h4>There are no tasks. Create one bellow!</h4>
          {% else %}
            <table class="table">
              <thead>
                <tr>
                  <th scope="col">#</th>
                  <th scope="col">Task</th>
                  <th scope="col">Added</th>
                  <th scope="col">Actions</th>
                </tr>
              </thead>
              <tbody>
                {% for task in tasks %}
                  <tr>
                    <th scope="row">{{ loop.index }}</th>
                    <td>{{ task.content }}</td>
                    <td>{{ task.date_created.date() }}</td>
                    <td>
                        <a href="/delete/{{ task.id }}">Delete</a> | <a href="/update/{{ task.id }}">Update</a>
                    </td>
                  </tr>
                {% endfor %}
              </tbody>
            </table>
          {% endif %}
          <form action="/" method="POST">
            <div class="mb-3">
              <div class="row">
                <div class="col">
                  <input class="form-control" type="text" name="content" id="content">
                </div>
                <div class="col">
                  <input class="btn btn-outline-primary" type="submit" value="Add Task">
                </div>
              </div>
            </div>
          </form>
    </div>
{% endblock body %}
